/* ahmedakbayir/ngcad/ngcad-97f573de1173b8495d9e23d8519ed352962bab63/style.css */
body {
    margin: 0;
    background: #131314;
    color: #e8eaed;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    user-select: none;
}

.main {
    display: flex;
    width: 100vw;
    height: 100vh;
    gap: 0;
    padding: 1px;
    box-sizing: border-box;
}

.panel {
    position: relative;
    flex: 1;
    background: #1e1f20;
    border: 1px solid #3c4043;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
}

#p2d {
    flex: 1 1 auto;
}

#p3d {
    flex: 0 1 0;
    display: none;
    /* pointer-events: none; */ /* <-- BU SATIRI SİLİN VEYA YORUMA ALIN */
}

.main.show-3d #p3d {
    display: block;
    flex: 1 1 50%;
    pointer-events: auto; /* <-- 'none' YERİNE 'auto' YAPIN (Tıklamaları etkinleştirir) */
}

.main.show-3d #p2d {
    flex: 1 1 50%;
}

/* 3D Fullscreen Mode - 2D becomes mini-map */
.main.fullscreen-3d #p3d {
    flex: 1 1 100% !important;
    pointer-events: auto !important; /* Fullscreen modda 3D interaktif */
}

.main.fullscreen-3d #p2d {
    position: fixed !important;
    top: 10px;
    right: 10px;
    width: calc(100vw / 5);
    height: calc(100vh / 3);
    z-index: 1000;
    border: 3px solid #6495ED;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
    flex: none !important;
}

.main.fullscreen-3d #splitter {
    display: none !important;
}

#splitter {
    flex: 0 0 4px; /* DEĞİŞTİ (10px -> 4px) */
    cursor: col-resize;
    background-color: #3c4043;
    /* DEĞİŞTİ: SVG genişliği (10->4) ve path (M4/M6 -> M1/M3) güncellendi */
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='30' viewBox='0 0 4 30'%3E%3Cpath d='M1,10 L1,20 M3,10 L3,20' stroke='%23888' stroke-width='1'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: center;
    display: none;
    margin: 0 3px; /* DEĞİŞTİ (5px -> 3px) */
    border-radius: 5px;
}

.main.show-3d #splitter {
    display: block;
}

canvas {
    display: block;
    width: 100%;
    height: 100%;
}

#ui {
    margin-top: 50px;
    position: absolute;
    top: 0;
    left: 0;
    z-index: 10;
    display: flex;
    flex-direction: column; /* Dikey düzen */
    width: auto; /* Otomatik genişlik */
    gap: 8px; /* Butonlar arası boşluk */
    background: rgba(42, 43, 44, 0.9);
    border: 1px solid #5f6368;
    border-left: none; /* Sol kenarda border yok */
    border-radius: 0 8px 8px 0; /* Sadece sağ taraf yuvarlanmış */
    padding: 6px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.3);
    backdrop-filter: blur(4px);
    box-sizing: border-box;
}

.btn {
    padding: 8px 12px;
    border: 1px solid #5f6368;
    background: #3c4043;
    color: #e8eaed;
    border-radius: 6px;
    cursor: pointer;
    font-size: 14px;
    display: flex;
    align-items: center;
    gap: 8px;
}

/* YENİ KURAL: UI içindeki butonları sadece ikon göster */
#ui .btn {
    width: auto; /* Otomatik genişlik */
    min-width: 28px; /* Minimum genişlik - kat çubuğu ile uyumlu */
    height: 28px; /* Sabit yükseklik - kat çubuğu ile uyumlu */
    box-sizing: border-box;
    justify-content: center; /* İkonu ortala */
    align-items: center; /* İkonu ortala */
    padding: 6px; /* Eşit padding */
    font-size: 0; /* Metni gizle */
    gap: 0; /* Gap gerekmez */
}

/* UI içindeki buton iconları */
#ui .btn svg {
    width: 16px; /* Kat çubuğu ile uyumlu boyut */
    height: 16px;
}


.btn svg {
    width: 18px;
    height: 18px;
    stroke: currentColor;
    fill: none;
    stroke-width: 2;
}

.btn.active {
    background: #8ab4f8;
    color: #202124;
    border-color: #8ab4f8;
    font-weight: 600;
}

.btn:hover:not(.active) {
    background: #5f6368;
}

/* UI içindeki butonlar için gelişmiş hover efekti */
#ui .btn:hover:not(.active) {
    background: #5f6368;
    border-color: #87CEEB;
    box-shadow: 0 2px 8px rgba(135, 206, 235, 0.3);
}

/* --- Mouse İmleçleri (CSS - Sınıflara göre genel ayarlar) --- */

/* Genel Panel Varsayılanı */
.panel {
    cursor: default;
}

/* Seçim Modu */
.panel.select-mode {
    cursor: default;
}

/* Duvar ve Oda Çizim Modları (Özel İkonlar) */
.panel.drawWall-mode {
    cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><line x1="16" y1="4" x2="16" y2="28" stroke="white" stroke-width="1.5"/><line x1="4" y1="16" x2="28" y2="16" stroke="white" stroke-width="1.5"/><path fill="white" transform="translate(20 20) scale(0.5)" d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zm17.71-10.21c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/></svg>') 16 16, crosshair;
}
.panel.drawRoom-mode {
    cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><line x1="16" y1="4" x2="16" y2="28" stroke="white" stroke-width="1.5"/><line x1="4" y1="16" x2="28" y2="16" stroke="white" stroke-width="1.5"/><rect x="20" y="20" width="10" height="8" fill="none" stroke="white" stroke-width="1.5" rx="1"/></svg>') 16 16, crosshair;
}

/* Diğer Çizim Modları (Kolon, Kiriş, Merdiven) */
.panel.drawColumn-mode,
.panel.drawBeam-mode,
.panel.drawStairs-mode {
    cursor: crosshair;
}

/* Kapı ve Pencere Yerleştirme Modları */
.panel.drawDoor-mode {
    cursor: crosshair; /* JS tarafından ayarlanıyor ama sınıfı koruyalım */
}
.panel.drawWindow-mode {
    cursor: crosshair; /* JS tarafından ayarlanıyor ama sınıfı koruyalım */
}

.rotate-handle-hover {
    /* .panel.rotate-mode içindeki cursor tanımını buraya kopyalayın */
    cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="2 4 20 16"><path d="M8.22673 13.3292C8.51492 14.1471 9.06116 14.8493 9.78313 15.3298C10.5051 15.8103 11.3637 16.0432 12.2296 15.9934C13.0954 15.9436 13.9216 15.6137 14.5837 15.0535C15.2458 14.4933 15.7078 13.7332 15.9003 12.8876C16.0927 12.042 16.0051 11.1567 15.6507 10.3652C15.2962 9.57374 14.6941 8.91887 13.9351 8.4993C13.176 8.07974 12.3012 7.91819 11.4424 8.03902C10.0777 8.23101 9.0827 9.23345 8 10M8 10V7M8 10H11" fill="none" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>') 16 16, auto !important;
}

#length-input {
    position: absolute;
    display: none;
    background-color: #131314;
    color: #e8eaed;
    border: 1px solid #8ab4f8;
    border-radius: 4px;
    padding: 4px 6px;
    font-size: 14px;
    width: 80px;
    text-align: center;
    outline: none;
    z-index: 20;
    transform: translate(-50%, -50%);
}

#settings-btn {
    position: absolute;
    bottom: 10px;
    left: 10px;
    z-index: 11;
    padding: 6px 8px; /* Daraltıldı: 7px 10px -> 6px 8px */
    font-size: 14px; /* %25 büyütüldü: 11px -> 14px */
    gap: 6px; /* Daraltıldı: 8px -> 6px */
    background: rgba(42, 43, 44, 0.9);
    border: 1px solid #5f6368;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.3);
    backdrop-filter: blur(4px);
}

#settings-btn svg {
    width: 18px; /* %25 büyütüldü: 14px -> 18px */
    height: 18px; /* %25 büyütüldü: 14px -> 18px */
}

#settings-popup {
    display: none;
    position: absolute;
    bottom: 55px;
    left: 10px;
    background-color: #2a2b2c;
    border: 1px solid #5f6368;
    border-radius: 8px;
    padding: 12px;
    z-index: 100;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    width: auto;
    max-height: 70vh;
    overflow: visible;
}

.settings-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
    padding-bottom: 8px;
    border-bottom: 1px solid #5f6368;
}

.settings-title {
    font-size: 15px;
    font-weight: 600;
    color: #e8eaed;
}

.settings-body {
    display: flex;
    gap: 0;
}

.tab-bar-vertical {
    display: flex;
    flex-direction: column;
    gap: 2px;
    padding-right: 8px;
    border-right: 1px solid #5f6368;
    min-width: 120px; /* Artırıldı: 90px -> 120px (kalın font için) */
    width: 120px; /* Sabit genişlik - kalın font seçilse de titremez */
}

.tab-btn-vertical {
    padding: 6px 10px 10px 10px; /* Alt padding daha büyük - yazı aşağı dayansın */
    cursor: pointer;
    border: none;
    background-color: transparent;
    color: #9aa0a6;
    border-left: 3px solid transparent;
    font-size: 12px; /* Arttırıldı: 11px -> 12px */
    text-align: left;
    transition: all 0.2s;
    display: flex;
    align-items: flex-end; /* ALTA DAYANDI */
    height: 40px; /* Sabit yükseklik - tablar aynı hizada */
    font-weight: 500; /* Daha belirgin */
    width: 100%; /* Tüm butonlar aynı genişlik */
    box-sizing: border-box; /* Padding dahil genişlik hesapla */
}

.tab-btn-vertical:hover {
    background-color: rgba(95, 99, 104, 0.3);
}

.tab-btn-vertical.active {
    color: #8ab4f8;
    border-left-color: #8ab4f8;
    background-color: rgba(138, 180, 248, 0.1);
    font-weight: 600; /* Aktif tab daha belirgin */
}

.tab-content-vertical {
    flex: 0 0 300px; /* Sabit genişlik - tab değişiminde genişleme/daralma yok */
    padding: 8px 0 8px 12px; /* Üst-alt padding eklendi, sol padding arttırıldı */
    width: 300px; /* Sabit genişlik */
}

.tab-pane {
    display: none;
}

.tab-pane.active {
    display: block;
}

.setting-control {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 6px; /* Azaltıldı: 8px -> 6px */
    gap: 8px; /* Etiket ve input arasında yeterli boşluk */
}

.setting-control label {
    font-size: 11px;
    flex: 1;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    margin-right: 0; /* Etiket sağ margin yok */
}

/* Tüm input elemanlarını aynı genişlikte yap */
.setting-control input[type="number"],
.setting-control input[type="color"],
.setting-control select {
    background-color: #1e1f20;
    color: #e8eaed;
    border: 1px solid #5f6368;
    border-radius: 4px;
    padding: 4px 6px;
    font-size: 11px;
    width: 100px; /* TÜM ELEMANLAR AYNI GENİŞLİKTE */
    flex-shrink: 0; /* Input elemanları küçülmesin */
}

.setting-control input[type="checkbox"] {
    width: 16px;
    height: 16px;
    flex-shrink: 0;
}

.settings-actions {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.btn-small {
    padding: 4px 8px;
    font-size: 12px;
}

.btn-small svg {
    width: 14px;
    height: 14px;
}

/* Eski tab-bar ve tab-btn kullanılmıyor artık, ama uyumluluk için bırakıyoruz */
.tab-bar {
    display: flex;
    flex-wrap: wrap;
    border-bottom: 1px solid #5f6368;
    margin-bottom: 15px;
    gap: 4px;
}

.tab-btn {
    padding: 8px 12px;
    cursor: pointer;
    border: none;
    background-color: transparent;
    color: #9aa0a6;
    border-bottom: 2px solid transparent;
    font-size: 13px;
}

.tab-btn.active {
    color: #8ab4f8;
    border-bottom-color: #8ab4f8;
}

#room-name-popup {
    display: none;
    position: absolute;
    background-color: #2a2b2c;
    border: 1px solid #5f6368;
    border-radius: 8px;
    z-index: 200;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
    padding: 5px;
}

#room-name-input {
    width: calc(100% - 10px);
    margin-bottom: 5px;
    padding: 5px;
    background-color: #1e1f20;
    color: #e8eaed;
    border: 1px solid #5f6368;
    border-radius: 4px;
}

#room-name-select {
    background-color: #1e1f20;
    color: #e8eaed;
    border: none;
    padding: 5px;
    font-size: 14px;
    width: 100%;
    box-sizing: border-box;
}

#room-name-select:focus {
    outline: none;
}


/* wall-panel.js tarafından eklenen stiller */
#wall-panel label:has(input[type="radio"]):hover { background: #3a3b3c; }
.wall-panel-btn { width: 100%; padding: 8px 12px; background: #3a3b3c; color: #e7e6d0; border: 1px solid #4a4b4c; border-radius: 4px; cursor: pointer; font-size: 12px; text-align: left; transition: all 0.2s; }
.wall-panel-btn:hover { background: #4a4b4c; border-color: #8ab4f8; color: #8ab4f8; }
#wall-thickness-slider::-webkit-slider-thumb { appearance: none; width: 14px; height: 14px; border-radius: 50%; background: #8ab4f8; cursor: pointer; }
#wall-thickness-slider::-moz-range-thumb { width: 14px; height: 14px; border-radius: 50%; background: #8ab4f8; cursor: pointer; border: none; }


.panel.rotate-mode {
cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="2 4 20 16"><path d="M8.22673 13.3292C8.51492 14.1471 9.06116 14.8493 9.78313 15.3298C10.5051 15.8103 11.3637 16.0432 12.2296 15.9934C13.0954 15.9436 13.9216 15.6137 14.5837 15.0535C15.2458 14.4933 15.7078 13.7332 15.9003 12.8876C16.0927 12.042 16.0051 11.1567 15.6507 10.3652C15.2962 9.57374 14.6941 8.91887 13.9351 8.4993C13.176 8.07974 12.3012 7.91819 11.4424 8.03902C10.0777 8.23101 9.0827 9.23345 8 10M8 10V7M8 10H11" fill="none" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>') 16 16, auto !important;    }   


/* Merdiven Popup Stilleri */

#stair-popup {
    display: none;
    position: absolute;
    background-color: #2a2b2c;
    border: 1px solid #5f6368;
    border-radius: 8px;
    z-index: 200;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
    padding: 15px;
    width: 300px; /* Genişliği ayarlayın */
    font-size: 14px;
}

#stair-popup h3 {
    margin-top: 0;
    margin-bottom: 15px;
    color: #8ab4f8;
    border-bottom: 1px solid #5f6368;
    padding-bottom: 5px;
    font-size: 16px;
    font-weight: 500;
}

#stair-popup .setting-control {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
}

#stair-popup label {
    margin-right: 10px;
    flex-shrink: 0; /* Etiketlerin küçülmesini engelle */
}

#stair-popup input[type="text"],
#stair-popup input[type="number"],
#stair-popup select {
    background-color: #1e1f20;
    color: #e8eaed;
    border: 1px solid #5f6368;
    border-radius: 4px;
    padding: 5px;
    width: 120px; /* Input genişliğini ayarla */
    box-sizing: border-box;
}
#stair-popup input[type="checkbox"] {
    width: 18px;
    height: 18px;
    /*margin-right: auto; /* Checkbox'ı sağa yasla */
    margin-left: 5px; /* Input ile arasında boşluk */
}


#guide-context-menu {
    display: none;
    position: absolute;
    background-color: #2a2b2c;
    border: 1px solid #5f6368;
    border-radius: 6px;
    z-index: 200;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
    padding: 5px;
    width: 150px;
}

.context-menu-title {
    font-size: 14px;
    font-weight: 500;
    color: #8ab4f8;
    padding: 6px 10px;
    border-bottom: 1px solid #3a3b3c;
    margin-bottom: 4px;
}

.context-menu-btn {
    display: block;
    width: 100%;
    padding: 8px 12px;
    background: transparent;
    color: #e7e6d0;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 13px;
    text-align: left;
    box-sizing: border-box;
}

.context-menu-btn:hover {
    background: #3a3b3c;
    color: #8ab4f8;
}

/* 3D Overlay: Kamera Koordinatları */
#camera-coords {
    background: rgba(30, 31, 32, 0.9);
    padding: 6px 10px;
    border-radius: 4px;
    border: 1px solid rgba(100, 149, 237, 0.3);
    color: #a8dadc;
    font-size: 11px;
    font-family: 'Consolas', 'Monaco', monospace;
    white-space: nowrap;
    margin-right: 4px;
}

/* FPS Kamera butonu */
.fps-btn {
    padding: 5px 10px;
    background: rgba(60, 64, 67, 0.8);
    border: 1px solid #5f6368;
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s ease;
    color: #e8eaed;
    font-size: 11px;
    font-weight: 500;
    white-space: nowrap;
}

.fps-btn:hover {
    background: rgba(80, 84, 87, 1);
    border-color: #87CEEB;
}

.fps-btn.active {
    background: rgba(100, 149, 237, 0.3);
    border-color: #87CEEB;
    box-shadow: 0 0 8px rgba(135, 206, 235, 0.4);
    color: #a8dadc;
}

/* 3D Overlay: Ekran Bölme Oranı Butonları - Daha Compact */
#split-ratio-buttons {
    position: absolute;
    top: 10px;
    right: 10px;
    z-index: 100;
    display: flex;
    gap: 4px;
    background: rgba(30, 31, 32, 0.85);
    padding: 4px;
    border-radius: 6px;
    border: 1px solid rgba(100, 149, 237, 0.3);
    backdrop-filter: blur(4px);
}

.split-btn {
    width: 28px;
    height: 28px;
    padding: 4px;
    background: rgba(60, 64, 67, 0.8);
    border: 1px solid #5f6368;
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.split-btn:hover {
    background: rgba(80, 84, 87, 1);
    border-color: #87CEEB;
    transform: scale(1.05);
}

.split-btn.active {
    background: rgba(100, 149, 237, 0.3);
    border-color: #87CEEB;
    box-shadow: 0 0 8px rgba(135, 206, 235, 0.4);
}

.split-btn svg {
    display: block;
    width: 100%;
    height: 100%;
}

/* Katı/Binayı Göster Butonu (dikdörtgen) */
.floor-view-btn {
    padding: 6px 12px;
    background: rgba(60, 64, 67, 0.8);
    border: 1px solid #5f6368;
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s ease;
    color: #e8eaed;
    font-size: 11px;
    font-weight: 600;
    letter-spacing: 0.5px;
    white-space: nowrap;
}

.floor-view-btn:hover {
    background: rgba(80, 84, 87, 1);
    border-color: #87CEEB;
    transform: scale(1.05);
}

.floor-view-btn.active {
    background: rgba(100, 149, 237, 0.3);
    border-color: #87CEEB;
    box-shadow: 0 0 8px rgba(135, 206, 235, 0.4);
    color: #a8dadc;
}

/* FPS Kamera Kontrolleri (Sağ Alt) */
#fps-camera-controls {
    position: absolute;
    bottom: 10px;
    right: 10px;
    z-index: 100;
    display: flex;
    gap: 4px;
    align-items: center;
    background: rgba(30, 31, 32, 0.85);
    padding: 4px;
    border-radius: 6px;
    border: 1px solid rgba(100, 149, 237, 0.3);
    backdrop-filter: blur(4px);
}

/* 3D Göster Butonu - 2D Ekranın Sağ Üst Köşesi */
.btn-show-3d {
    position: absolute;
    top: 10px;
    right: 10px;
    z-index: 100;
    padding: 7px 10px; /* %25 büyütüldü: 5px 8px -> 7px 10px */
    font-size: 14px; /* %25 büyütüldü: 11px -> 14px */
    font-weight: 500;
    min-width: auto;
    white-space: nowrap;
    background: #3c4043;
    border: 1px solid #5f6368;
    color: #e8eaed;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    display: flex;
    align-items: center;
    gap: 8px;
}

.btn-show-3d svg {
    width: 18px;
    height: 18px;
    stroke: currentColor;
    fill: none;
    stroke-width: 2;
}

.btn-show-3d:hover {
    background: #5f6368;
    border-color: #87CEEB;
    box-shadow: 0 2px 8px rgba(135, 206, 235, 0.3);
}

.btn-show-3d.active {
    background: #8ab4f8;
    color: #202124;
    border-color: #8ab4f8;
    font-weight: 600;
}

/* 3D açıkken butonu gizle */
.main.show-3d .btn-show-3d {
    display: none;
}
