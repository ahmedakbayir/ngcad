<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2D Plan Çizim</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="main-container">
        <div id="p2d" class="panel">
            <canvas id="c2d"></canvas>
            <input type="text" id="length-input" placeholder="100">
        </div>
        <div id="splitter"></div>
        <div id="p3d">
            <canvas id="c3d"></canvas>
        </div>
        
        <div id="toolbar">
            <button id="bSel" title="Seç (Esc)">
                <span class="icon">⬚</span>
                <span class="label">Seç</span>
            </button>
            <button id="bWall" title="Duvar Çiz (W)">
                <span class="icon">▬</span>
                <span class="label">Duvar</span>
            </button>
            <button id="bArcWall" title="Yay Duvar (A)">
                <span class="icon">⌒</span>
                <span class="label">Yay Duvar</span>
            </button>
            <button id="bRoom" title="Oda Çiz (R)">
                <span class="icon">▭</span>
                <span class="label">Mahal</span>
            </button>
            
            <div class="separator"></div>
            
            <button id="bDoor" title="Kapı Ekle (K)">
                <span class="icon">🚪</span>
                <span class="label">Kapı</span>
            </button>
            <button id="bWindow" title="Pencere Ekle (P)">
                <span class="icon">🪟</span>
                <span class="label">Pencere</span>
            </button>
            <button id="bVent" title="Menfez Ekle (M)">
                <span class="icon">◫</span>
                <span class="label">Menfez</span>
            </button>
            
            <div class="separator"></div>
            
            <button id="b3d" title="3D Görünüm">
                <span class="icon">📦</span>
                <span class="label">3D Görünüm</span>
            </button>
            <button id="settings-btn" title="Ayarlar">
                <span class="icon">⚙️</span>
                <span class="label">Ayarlar</span>
            </button>
            
            <div class="separator"></div>
            
            <button id="bSave" title="Kaydet">
                <span class="icon">💾</span>
                <span class="label">Kaydet</span>
            </button>
            <button id="bOpen" title="Aç">
                <span class="icon">📁</span>
                <span class="label">Aç</span>
            </button>
            <input type="file" id="file-input" accept=".json" style="display:none;">
        </div>
    </div>

    <div id="settings-popup">
        <div class="popup-header">
            <h2>Ayarlar</h2>
            <button id="close-settings-popup">&times;</button>
        </div>
        
        <div class="tab-buttons">
            <button class="tab-btn active" id="tab-btn-general">Genel</button>
            <button class="tab-btn" id="tab-btn-grid">Izgara</button>
            <button class="tab-btn" id="tab-btn-snap">Yakalama</button>
        </div>

        <div id="tab-pane-general" class="tab-pane active">
            <div class="setting-group">
                <label for="borderPicker">Duvar Rengi</label>
                <input type="color" id="borderPicker" value="#e7e6d0">
            </div>
            <div class="setting-group">
                <label for="roomPicker">Mahal Dolgu Rengi</label>
                <input type="color" id="roomPicker" value="#1e1f20">
            </div>
            <div class="setting-group">
                <label for="line-thickness">Çizgi Kalınlığı</label>
                <input type="number" id="line-thickness" min="1" max="5" step="0.5" value="2">
            </div>
        </div>

        <div id="tab-pane-grid" class="tab-pane">
            <div class="setting-group">
                <label class="checkbox-label">
                    <input type="checkbox" id="grid-visible" checked>
                    Izgarayı Göster
                </label>
            </div>
            <div class="setting-group">
                <label for="grid-color">Izgara Rengi</label>
                <input type="color" id="grid-color" value="#2d3134">
            </div>
            <div class="setting-group">
                <label for="grid-weight">Izgara Kalınlığı</label>
                <input type="number" id="grid-weight" min="0.1" max="3" step="0.1" value="0.5">
            </div>
            <div class="setting-group">
                <label for="grid-space">Izgara Aralığı (cm)</label>
                <input type="number" id="grid-space" min="1" max="100" step="1" value="10">
            </div>
        </div>

        <div id="tab-pane-snap" class="tab-pane">
            <div class="setting-group">
                <label class="checkbox-label">
                    <input type="checkbox" id="snap-endpoint" checked>
                    Uç Noktalara Yakala
                </label>
            </div>
            <div class="setting-group">
                <label class="checkbox-label">
                    <input type="checkbox" id="snap-midpoint" checked>
                    Orta Noktalara Yakala
                </label>
            </div>
            <div class="setting-group">
                <label class="checkbox-label">
                    <input type="checkbox" id="snap-endpoint-ext" checked>
                    Uç Nokta Uzantılarına Yakala
                </label>
            </div>
            <div class="setting-group">
                <label class="checkbox-label">
                    <input type="checkbox" id="snap-midpoint-ext">
                    Orta Nokta Uzantılarına Yakala
                </label>
            </div>
            <div class="setting-group">
                <label class="checkbox-label">
                    <input type="checkbox" id="snap-nearest-only" checked>
                    Sadece En Yakına Yakala
                </label>
            </div>
        </div>
    </div>

    <div id="room-name-popup">
        <h3>Mahal Adı</h3>
        <select id="room-name-select">
            <option value="">Seçiniz...</option>
        </select>
        <input type="text" id="room-name-input" placeholder="Özel isim girin...">
        <div class="popup-buttons">
            <button class="btn-secondary" id="cancel-room-name">İptal</button>
            <button class="btn-primary" id="save-room-name">Kaydet</button>
        </div>
    </div>

    <script type="module" src="main.js"></script>
</body>
</html>